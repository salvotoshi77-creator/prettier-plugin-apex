<html>
<head>
  <title>Test Page</title>
  <script src="../node_modules/axios/dist/axios.js"></script>
  <script src="../node_modules/prettier/standalone.js"></script>
  <script src="../output/standalone.js"></script>
</head>
<body>
  <form>
    <textarea name="original" cols="80" rows="60" id="original"></textarea>
    <textarea name="formatted" cols="80" rows="60" id="formatted"></textarea>
    <input id="submit" type="button" value="Format" />
  </form>

  <script>
    const formatApex = () => {
      const parseOptions = {
        apexStandaloneParser: "built-in",
        apexStandalonePort: 2117,
        apexStandaloneHost: "localhost",
        plugins: [prettierPlugins.apex],
        parser: 'apex'
      }
      const originalText = document.querySelector("textarea#original").value;
      prettier.format(originalText, parseOptions).then((formatted) => {
        document.querySelector("textarea#formatted").value = formatted;
      });
    }
    document.getElementById("submit").addEventListener("click", function(event){
      formatApex();
      event.preventDefault();
    });
  </script>
</body>
</html>
